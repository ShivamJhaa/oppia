<div class="modal-header create-new-story-header">
  <h3>
    New Story
  </h3>
  <i class="fa fa-times modal-close-button" (click)="cancel()"></i>
</div>
<form (submit)="confirm(newlyCreatedStory)">
  <div class="modal-body create-new-story">
    <div class="story-input">
      <div class="story-input-header">
        <span>Title*</span>
      </div>
      <input class="form-control protractor-test-new-story-title-field required"
             [(ngModel)]="newlyCreatedStory.title"
             [maxlength]="MAX_CHARS_IN_STORY_TITLE"
             [ngModelOptions]="{standalone: true}">
      <div>
        <span class="oppia-input-box-subtitle">
          <em>
           Story title should be at most {{ MAX_CHARS_IN_STORY_TITLE }} characters.
          </em>
        </span>
      </div>
    </div>
    <div class="story-input story-input-description">
      <div class="story-input-header">
        <span>Description*</span>
      </div>
      <textarea class="form-control protractor-test-new-story-description-field required"
                rows="3" cols="50"
                [maxlength]="MAX_CHARS_IN_STORY_DESCRIPTION"
                [(ngModel)]="newlyCreatedStory.description"
                [ngModelOptions]="{standalone: true}"
                aria-label="Description">
      </textarea>
      <span class="oppia-input-box-subtitle">
        <em>
          Story description should be at most
          {{ MAX_CHARS_IN_STORY_DESCRIPTION }} characters.
        </em>
      </span>
    </div>
    <div class="story-input">
      <div class="story-input-header">
        <span>Url Fragment*</span>
      </div>
      <input class="form-control protractor-test-new-story-url-fragment-field"
             [(ngModel)]="newlyCreatedStory.urlFragment"
             [ngModelOptions]="{standalone: true}"
             [maxlength]="MAX_CHARS_IN_STORY_URL_FRAGMENT"
             [ngClass]="{'invalid-field': storyUrlFragmentExists || !validUrlFragmentRegex.test(newlyCreatedStory.urlFragment)}"
             (ngModelChange)="onStoryUrlFragmentChange($event)"
             aria-label="Url fragment">
      <div>
        <span class="oppia-input-box-subtitle">
          <em>
            The story URL fragment is used to uniquely access the story viewer page. It should consist of one or more hyphen-separated words, all in lowercase, with at most {{ MAX_CHARS_IN_STORY_URL_FRAGMENT }} characters in total and must be unique across the topic. Please use meaningful keywords, and avoid using words like "and", "of", or "the".
            This story can be accessed at the following URL:<br>
            {{ hostname }}/learn/{{ classroomUrlFragment }}/{{ topicUrlFragment }}/story/{{ newlyCreatedStory.urlFragment }}
          </em>
        </span>
        <div *ngIf="storyUrlFragmentExists" class="oppia-input-box-subtitle text-danger">
          <em>
            This story URL fragment already exists.
          </em>
        </div>
      </div>
    </div>

    <div class="story-input story-input-thumbnail protractor-test-photo-upload-input">
      <div class="story-input-header">
        <span>Thumbnail Image*</span>
      </div>
      <oppia-thumbnail-uploader [previewTitle]="newlyCreatedStory.title"
                                [aspectRatio]="'4:3'"
                                [disabled]="false"
                                [useLocalStorage]="true"
                                [allowedBgColors]="allowedBgColors"
                                previewDescriptionBgColor="#2F6687">
      </oppia-thumbnail-uploader>
    </div>
  </div>

  <div class="modal-footer">
    <button class="btn btn-secondary" (click)="cancel()" type="button">Cancel</button>
    <button class="btn btn-success protractor-test-confirm-story-creation-button" type="submit" [disabled]="!isValid()">
      <span>Create Story</span>
    </button>
  </div>
</form>
<style>
  .create-new-story-header h3 {
    font-size: 28px;
  }
  .create-new-story .story-input {
    padding: 10px 10px 16px;
  }
  .create-new-story input {
    width: 70%;
  }
  .story-input-description input {
    width: 95%;
  }
  .create-new-story .story-input-header span {
    font-weight: bold;
  }
  .create-new-story .story-input-thumbnail {
    padding-top: 15px;
  }
  .create-new-story .ng-touched.ng-empty.required {
     outline: 1px solid #F00;
  }
</style>
